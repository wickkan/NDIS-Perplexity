(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8925:function(e,t,a){Promise.resolve().then(a.bind(a,5352)),Promise.resolve().then(a.bind(a,2664))},5352:function(e,t,a){"use strict";a.d(t,{default:function(){return eE}});var r=a(7437),s=a(2265),l=a(7053),n=a(535),i=a(1994),d=a(3335);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,d.m6)((0,i.W)(t))}let c=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:i=!1,...d}=e,u=i?l.g7:"button";return(0,r.jsx)(u,{className:o(c({variant:s,size:n,className:a})),ref:t,...d})});u.displayName="Button";var m=a(3926),p=a(1101),f=a(8736),x=a(1947),g=a(1385),h=a(9933),v=a(9658);let b="FileUpload",j="FileUploadDropzone",y="FileUploadTrigger",N="FileUploadList",w="FileUploadItem",S="FileUploadItemPreview",E="FileUploadItemMetadata",k="FileUploadItemProgress",C="FileUploadItemDelete",D="FileUploadClear",I={[b]:"`".concat(b,"` must be used as root component"),[j]:"`".concat(j,"` must be within `").concat(b,"`"),[y]:"`".concat(y,"` must be within `").concat(b,"`"),[N]:"`".concat(N,"` must be within `").concat(b,"`"),[w]:"`".concat(w,"` must be within `").concat(b,"`"),[S]:"`".concat(S,"` must be within `").concat(w,"`"),[E]:"`".concat(E,"` must be within `").concat(w,"`"),[k]:"`".concat(k,"` must be within `").concat(w,"`"),[C]:"`".concat(C,"` must be within `").concat(w,"`"),[D]:"`".concat(D,"` must be within `").concat(b,"`")},R=s.useLayoutEffect;function _(e){let t=s.useRef(e);return R(()=>{t.current=e}),t}function P(e){let t=s.useRef(null);return null===t.current&&(t.current=e()),t}let F=s.createContext(void 0),T=s.createContext(null);function A(e){let t=s.useContext(T);if(!t)throw Error(I[e]);return t}function O(e){let t=A(b),a=P(()=>null),r=s.useCallback(()=>{let r=t.getState(),s=a.current;if(s&&s.state===r)return s.value;let l=e(r);return a.current={value:l,state:r},l},[t,e,a]);return s.useSyncExternalStore(t.subscribe,r,r)}T.displayName=b;let U=s.createContext(null);function z(e){let t=s.useContext(U);if(!t)throw Error(I[e]);return t}let L=s.forwardRef((e,t)=>{let{value:a,defaultValue:n,onValueChange:i,onAccept:d,onFileAccept:c,onFileReject:u,onFileValidate:m,onUpload:p,accept:f,maxFiles:x,maxSize:g,dir:h,label:v,name:b,asChild:j,disabled:y=!1,invalid:N=!1,multiple:w=!1,required:S=!1,children:E,className:k,...C}=e,D=s.useId(),I=s.useId(),R=s.useId(),A=s.useId(),O=function(e){var t;let a=s.useContext(F);return null!==(t=null!=e?e:a)&&void 0!==t?t:"ltr"}(h),z=_(e),L=P(()=>new Set).current,V=P(()=>new Map).current,M=s.useRef(null),G=void 0!==a,B=s.useMemo(()=>{let e;return e={files:V,dragOver:!1,invalid:null!=N&&N},{getState:function(){return e},dispatch:function(t){for(let a of(e=function(e,t){switch(t.variant){case"ADD_FILES":for(let e of t.files)V.set(e,{file:e,progress:0,status:"idle"});return i&&i(Array.from(V.values()).map(e=>e.file)),{...e,files:V};case"SET_FILES":{let a=new Set(t.files);for(let e of V.keys())a.has(e)||V.delete(e);for(let e of t.files)V.get(e)||V.set(e,{file:e,progress:0,status:"idle"});return{...e,files:V}}case"SET_PROGRESS":{let a=V.get(t.file);return a&&V.set(t.file,{...a,progress:t.progress,status:"uploading"}),{...e,files:V}}case"SET_SUCCESS":{let a=V.get(t.file);return a&&V.set(t.file,{...a,progress:100,status:"success"}),{...e,files:V}}case"SET_ERROR":{let a=V.get(t.file);return a&&V.set(t.file,{...a,error:t.error,status:"error"}),{...e,files:V}}case"REMOVE_FILE":return V.delete(t.file),i&&i(Array.from(V.values()).map(e=>e.file)),{...e,files:V};case"SET_DRAG_OVER":return{...e,dragOver:t.dragOver};case"SET_INVALID":return{...e,invalid:t.invalid};case"CLEAR":return V.clear(),i&&i([]),{...e,files:V,invalid:!1};default:return e}}(e,t),L))a()},subscribe:function(e){return L.add(e),()=>L.delete(e)}}},[L,V,i,N]),Z=s.useMemo(()=>({dropzoneId:I,inputId:D,listId:R,labelId:A,dir:O,disabled:y,inputRef:M}),[I,D,R,A,O,y]);s.useEffect(()=>{G?B.dispatch({variant:"SET_FILES",files:a}):n&&n.length>0&&!B.getState().files.size&&B.dispatch({variant:"SET_FILES",files:n})},[a,n,G,B]);let W=s.useCallback(e=>{var t,a,r,s,l,n,i,d,o,c;if(z.current.disabled)return;let u=[...e],m=!1;if(z.current.maxFiles){let e=B.getState().files.size,r=Math.max(0,z.current.maxFiles-e);if(r<u.length){let e=u.slice(r);for(let s of(m=!0,u=u.slice(0,r),e)){let e="Maximum ".concat(z.current.maxFiles," files allowed");if(z.current.onFileValidate){let t=z.current.onFileValidate(s);t&&(e=t)}null===(t=(a=z.current).onFileReject)||void 0===t||t.call(a,s,e)}}}let p=[],f=[];for(let e of u){let t=!1,a="";if(z.current.onFileValidate){let l=z.current.onFileValidate(e);if(l){a=l,null===(r=(s=z.current).onFileReject)||void 0===r||r.call(s,e,a),t=!0,m=!0;continue}}if(z.current.accept){let r=z.current.accept.split(",").map(e=>e.trim()),s=e.type,i=".".concat(e.name.split(".").pop());r.some(e=>e===s||e===i||e.includes("/*")&&s.startsWith(e.replace("/*","/")))||(a="File type not accepted",null===(l=(n=z.current).onFileReject)||void 0===l||l.call(n,e,a),t=!0,m=!0)}z.current.maxSize&&e.size>z.current.maxSize&&(a="File too large",null===(i=(d=z.current).onFileReject)||void 0===i||i.call(d,e,a),t=!0,m=!0),t?f.push({file:e,message:a}):p.push(e)}if(m&&(B.dispatch({variant:"SET_INVALID",invalid:m}),setTimeout(()=>{B.dispatch({variant:"SET_INVALID",invalid:!1})},2e3)),p.length>0){if(B.dispatch({variant:"ADD_FILES",files:p}),G&&z.current.onValueChange){let e=Array.from(B.getState().files.values()).map(e=>e.file);z.current.onValueChange([...e])}for(let e of(z.current.onAccept&&z.current.onAccept(p),p))null===(o=(c=z.current).onFileAccept)||void 0===o||o.call(c,e);z.current.onUpload&&requestAnimationFrame(()=>{q(p)})}},[B,G,z]),q=s.useCallback(async e=>{try{for(let t of e)B.dispatch({variant:"SET_PROGRESS",file:t,progress:0});if(z.current.onUpload)await z.current.onUpload(e,{onProgress:(e,t)=>{B.dispatch({variant:"SET_PROGRESS",file:e,progress:Math.min(Math.max(0,t),100)})},onSuccess:e=>{B.dispatch({variant:"SET_SUCCESS",file:e})},onError:(e,t)=>{var a;B.dispatch({variant:"SET_ERROR",file:e,error:null!==(a=t.message)&&void 0!==a?a:"Upload failed"})}});else for(let t of e)B.dispatch({variant:"SET_SUCCESS",file:t})}catch(a){let t=a instanceof Error?a.message:"Upload failed";for(let a of e)B.dispatch({variant:"SET_ERROR",file:a,error:t})}},[B,z.current.onUpload]),K=s.useCallback(e=>{var t;W(Array.from(null!==(t=e.target.files)&&void 0!==t?t:[])),e.target.value=""},[W]),$=j?l.g7:"div";return(0,r.jsx)(F.Provider,{value:O,children:(0,r.jsx)(T.Provider,{value:B,children:(0,r.jsx)(U.Provider,{value:Z,children:(0,r.jsxs)($,{"data-disabled":y?"":void 0,"data-slot":"file-upload",dir:O,...C,ref:t,className:o("relative flex flex-col gap-2",k),children:[E,(0,r.jsx)("input",{type:"file",id:D,"aria-labelledby":A,"aria-describedby":I,ref:M,tabIndex:-1,accept:f,name:b,disabled:y,multiple:w,required:S,className:"sr-only",onChange:K}),(0,r.jsx)("span",{id:A,className:"sr-only",children:null!=v?v:"File upload"})]})})})})});L.displayName=b;let V=s.forwardRef((e,t)=>{let{asChild:a,className:n,...i}=e,d=z(j),c=A(j),u=O(e=>e.dragOver),m=O(e=>e.invalid),p=_(i),f=s.useCallback(e=>{var t,a,r;if(null===(a=p.current)||void 0===a||null===(t=a.onClick)||void 0===t||t.call(a,e),e.defaultPrevented)return;let s=e.target;s instanceof HTMLElement&&s.closest('[data-slot="file-upload-trigger"]')||null===(r=d.inputRef.current)||void 0===r||r.click()},[d.inputRef,p]),x=s.useCallback(e=>{var t,a;null===(a=p.current)||void 0===a||null===(t=a.onDragOver)||void 0===t||t.call(a,e),e.defaultPrevented||(e.preventDefault(),c.dispatch({variant:"SET_DRAG_OVER",dragOver:!0}))},[c,p.current.onDragOver]),g=s.useCallback(e=>{var t,a;null===(a=p.current)||void 0===a||null===(t=a.onDragEnter)||void 0===t||t.call(a,e),e.defaultPrevented||(e.preventDefault(),c.dispatch({variant:"SET_DRAG_OVER",dragOver:!0}))},[c,p.current.onDragEnter]),h=s.useCallback(e=>{var t,a;if(null===(a=p.current)||void 0===a||null===(t=a.onDragLeave)||void 0===t||t.call(a,e),e.defaultPrevented)return;let r=e.relatedTarget;r&&r instanceof Node&&e.currentTarget.contains(r)||(e.preventDefault(),c.dispatch({variant:"SET_DRAG_OVER",dragOver:!1}))},[c,p.current.onDragLeave]),v=s.useCallback(e=>{var t,a;if(null===(a=p.current)||void 0===a||null===(t=a.onDrop)||void 0===t||t.call(a,e),e.defaultPrevented)return;e.preventDefault(),c.dispatch({variant:"SET_DRAG_OVER",dragOver:!1});let r=Array.from(e.dataTransfer.files),s=d.inputRef.current;if(!s)return;let l=new DataTransfer;for(let e of r)l.items.add(e);s.files=l.files,s.dispatchEvent(new Event("change",{bubbles:!0}))},[c,d.inputRef,p.current.onDrop]),b=s.useCallback(e=>{var t,a,r;if(null===(a=p.current)||void 0===a||null===(t=a.onPaste)||void 0===t||t.call(a,e),e.defaultPrevented)return;e.preventDefault(),c.dispatch({variant:"SET_DRAG_OVER",dragOver:!1});let s=null===(r=e.clipboardData)||void 0===r?void 0:r.items;if(!s)return;let l=[];for(let e=0;e<s.length;e++){let t=s[e];if((null==t?void 0:t.kind)==="file"){let e=t.getAsFile();e&&l.push(e)}}if(0===l.length)return;let n=d.inputRef.current;if(!n)return;let i=new DataTransfer;for(let e of l)i.items.add(e);n.files=i.files,n.dispatchEvent(new Event("change",{bubbles:!0}))},[c,d.inputRef,p]),y=s.useCallback(e=>{var t,a,r;null===(a=p.current)||void 0===a||null===(t=a.onKeyDown)||void 0===t||t.call(a,e),e.defaultPrevented||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),null===(r=d.inputRef.current)||void 0===r||r.click())},[d.inputRef,p.current.onKeyDown]),N=a?l.g7:"div";return(0,r.jsx)(N,{role:"region",id:d.dropzoneId,"aria-controls":"".concat(d.inputId," ").concat(d.listId),"aria-disabled":d.disabled,"aria-invalid":m,"data-disabled":d.disabled?"":void 0,"data-dragging":u?"":void 0,"data-invalid":m?"":void 0,"data-slot":"file-upload-dropzone",dir:d.dir,tabIndex:d.disabled?void 0:0,...i,ref:t,className:o("relative flex select-none flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed p-6 outline-none transition-colors hover:bg-accent/30 focus-visible:border-ring/50 data-[disabled]:pointer-events-none data-[dragging]:border-primary data-[invalid]:border-destructive data-[invalid]:ring-destructive/20",n),onClick:f,onDragEnter:g,onDragLeave:h,onDragOver:x,onDrop:v,onKeyDown:y,onPaste:b})});V.displayName=j,s.forwardRef((e,t)=>{let{asChild:a,...n}=e,i=z(y),d=_(n),o=s.useCallback(e=>{var t,a,r;null===(a=d.current)||void 0===a||null===(t=a.onClick)||void 0===t||t.call(a,e),e.defaultPrevented||null===(r=i.inputRef.current)||void 0===r||r.click()},[i.inputRef,d.current]),c=a?l.g7:"button";return(0,r.jsx)(c,{type:"button","aria-controls":i.inputId,"data-disabled":i.disabled?"":void 0,"data-slot":"file-upload-trigger",...n,ref:t,disabled:i.disabled,onClick:o})}).displayName=y;let M=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",asChild:n,forceMount:i,...d}=e,c=z(N),u=i||O(e=>e.files.size>0);if(!u)return null;let m=n?l.g7:"div";return(0,r.jsx)(m,{role:"list",id:c.listId,"aria-orientation":s,"data-orientation":s,"data-slot":"file-upload-list","data-state":u?"active":"inactive",dir:c.dir,...d,ref:t,className:o("data-[state=inactive]:fade-out-0 data-[state=active]:fade-in-0 data-[state=inactive]:slide-out-to-top-2 data-[state=active]:slide-in-from-top-2 flex flex-col gap-2 data-[state=active]:animate-in data-[state=inactive]:animate-out","horizontal"===s&&"flex-row overflow-x-auto p-1.5",a)})});M.displayName=N;let G=s.createContext(null);function B(e){let t=s.useContext(G);if(!t)throw Error(I[e]);return t}let Z=s.forwardRef((e,t)=>{let{value:a,asChild:n,className:i,...d}=e,c=s.useId(),u="".concat(c,"-status"),m="".concat(c,"-name"),p="".concat(c,"-size"),f="".concat(c,"-message"),x=z(w),g=O(e=>e.files.get(a)),h=O(e=>e.files.size),v=O(e=>Array.from(e.files.keys()).indexOf(a)+1),b=s.useMemo(()=>({id:c,fileState:g,nameId:m,sizeId:p,statusId:u,messageId:f}),[c,g,u,m,p,f]);if(!g)return null;let j=g.error?"Error: ".concat(g.error):"uploading"===g.status?"Uploading: ".concat(g.progress,"% complete"):"success"===g.status?"Upload complete":"Ready to upload",y=n?l.g7:"div";return(0,r.jsx)(G.Provider,{value:b,children:(0,r.jsxs)(y,{role:"listitem",id:c,"aria-setsize":h,"aria-posinset":v,"aria-describedby":"".concat(m," ").concat(p," ").concat(u," ").concat(g.error?f:""),"aria-labelledby":m,"data-slot":"file-upload-item",dir:x.dir,...d,ref:t,className:o("relative flex items-center gap-2.5 rounded-md border p-3",i),children:[e.children,(0,r.jsx)("span",{id:u,className:"sr-only",children:j})]})})});Z.displayName=w;let W=s.forwardRef((e,t)=>{var a;let{render:n,asChild:i,children:d,className:c,...u}=e,b=B(S),j=s.useCallback(e=>{var t;return n?n(e):(null===(t=b.fileState)||void 0===t?void 0:t.file.type.startsWith("image/"))?(0,r.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"size-full object-cover",onLoad:e=>{e.target instanceof HTMLImageElement&&URL.revokeObjectURL(e.target.src)}}):function(e){var t,a;let s=e.type,l=null!==(a=null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase())&&void 0!==a?a:"";return s.startsWith("video/")?(0,r.jsx)(m.Z,{}):s.startsWith("audio/")?(0,r.jsx)(p.Z,{}):s.startsWith("text/")||["txt","md","rtf","pdf"].includes(l)?(0,r.jsx)(f.Z,{}):["html","css","js","jsx","ts","tsx","json","xml","php","py","rb","java","c","cpp","cs"].includes(l)?(0,r.jsx)(x.Z,{}):["zip","rar","7z","tar","gz","bz2"].includes(l)?(0,r.jsx)(g.Z,{}):["exe","msi","app","apk","deb","rpm"].includes(l)||s.startsWith("application/")?(0,r.jsx)(h.Z,{}):(0,r.jsx)(v.Z,{})}(e)},[n,null===(a=b.fileState)||void 0===a?void 0:a.file.type]);if(!b.fileState)return null;let y=i?l.g7:"div";return(0,r.jsxs)(y,{"aria-labelledby":b.nameId,"data-slot":"file-upload-preview",...u,ref:t,className:o("relative flex size-10 shrink-0 items-center justify-center overflow-hidden rounded border bg-accent/50 [&>svg]:size-10",c),children:[j(b.fileState.file),d]})});W.displayName=S;let q=s.forwardRef((e,t)=>{let{asChild:a,size:s="default",children:n,className:i,...d}=e,c=z(E),u=B(E);if(!u.fileState)return null;let m=a?l.g7:"div";return(0,r.jsx)(m,{"data-slot":"file-upload-metadata",dir:c.dir,...d,ref:t,className:o("flex min-w-0 flex-1 flex-col",i),children:null!=n?n:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{id:u.nameId,className:o("truncate font-medium text-sm","sm"===s&&"font-normal text-[13px] leading-snug"),children:u.fileState.file.name}),(0,r.jsx)("span",{id:u.sizeId,className:o("truncate text-muted-foreground text-xs","sm"===s&&"text-[11px]"),children:function(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/1024**t).toFixed(t?1:0)," ").concat(["B","KB","MB","GB","TB"][t])}(u.fileState.file.size)}),u.fileState.error&&(0,r.jsx)("span",{id:u.messageId,className:"text-destructive text-xs",children:u.fileState.error})]})})});q.displayName=E;let K=s.forwardRef((e,t)=>{let{variant:a="linear",size:s=40,asChild:n,forceMount:i,className:d,...c}=e,u=B(k);if(!u.fileState||!(i||100!==u.fileState.progress))return null;let m=n?l.g7:"div";switch(a){case"circular":{let e=2*Math.PI*((s-4)/2),a=e-u.fileState.progress/100*e;return(0,r.jsx)(m,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":u.fileState.progress,"aria-valuetext":"".concat(u.fileState.progress,"%"),"aria-labelledby":u.nameId,"data-slot":"file-upload-progress",...c,ref:t,className:o("-translate-x-1/2 -translate-y-1/2 absolute top-1/2 left-1/2",d),children:(0,r.jsxs)("svg",{className:"rotate-[-90deg] transform",width:s,height:s,viewBox:"0 0 ".concat(s," ").concat(s),fill:"none",stroke:"currentColor",children:[(0,r.jsx)("circle",{className:"text-primary/20",strokeWidth:"2",cx:s/2,cy:s/2,r:(s-4)/2}),(0,r.jsx)("circle",{className:"text-primary transition-[stroke-dashoffset] duration-300 ease-linear",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:e,strokeDashoffset:a,cx:s/2,cy:s/2,r:(s-4)/2})]})})}case"fill":{let e=u.fileState.progress,a=100-e;return(0,r.jsx)(m,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e,"aria-valuetext":"".concat(e,"%"),"aria-labelledby":u.nameId,"data-slot":"file-upload-progress",...c,ref:t,className:o("absolute inset-0 bg-primary/50 transition-[clip-path] duration-300 ease-linear",d),style:{clipPath:"inset(".concat(a,"% 0% 0% 0%)")}})}default:return(0,r.jsx)(m,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":u.fileState.progress,"aria-valuetext":"".concat(u.fileState.progress,"%"),"aria-labelledby":u.nameId,"data-slot":"file-upload-progress",...c,ref:t,className:o("relative h-1.5 w-full overflow-hidden rounded-full bg-primary/20",d),children:(0,r.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-transform duration-300 ease-linear",style:{transform:"translateX(-".concat(100-u.fileState.progress,"%)")}})})}});K.displayName=k;let $=s.forwardRef((e,t)=>{var a;let{asChild:n,...i}=e,d=A(C),o=B(C),c=_(i),u=s.useCallback(e=>{var t,a;null===(a=c.current)||void 0===a||null===(t=a.onClick)||void 0===t||t.call(a,e),o.fileState&&!e.defaultPrevented&&d.dispatch({variant:"REMOVE_FILE",file:o.fileState.file})},[d,o.fileState,null===(a=c.current)||void 0===a?void 0:a.onClick]);if(!o.fileState)return null;let m=n?l.g7:"button";return(0,r.jsx)(m,{type:"button","aria-controls":o.id,"aria-describedby":o.nameId,"data-slot":"file-upload-item-delete",...i,ref:t,onClick:u})});$.displayName=C,s.forwardRef((e,t)=>{let{asChild:a,forceMount:n,disabled:i,...d}=e,o=z(D),c=A(D),u=_(d),m=i||o.disabled,p=s.useCallback(e=>{var t,a;null===(a=u.current)||void 0===a||null===(t=a.onClick)||void 0===t||t.call(a,e),e.defaultPrevented||c.dispatch({variant:"CLEAR"})},[c,u]);if(!(n||O(e=>e.files.size>0)))return null;let f=a?l.g7:"button";return(0,r.jsx)(f,{type:"button","aria-controls":o.listId,"data-slot":"file-upload-clear","data-disabled":m?"":void 0,...d,ref:t,disabled:m,onClick:p})}).displayName=D;let H=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:o("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});H.displayName="Textarea";let Y="https://decode-ndis-perplexity.onrender.com".replace(/\/+$/,""),J=e=>{let t=e.replace(/^\/+|\/+$/g,"");return"".concat(Y,"/").concat(t)},X=async(e,t,a)=>{let r=J(e);console.log("Making request to:",r);try{let e=await fetch(r,{method:"POST",body:t,headers:{"Content-Type":"application/json"},signal:null==a?void 0:a.signal,credentials:"include"});if(!e.ok){let t=await e.json().catch(()=>({}));throw console.error("API Error:",{status:e.status,statusText:e.statusText,url:r,error:t}),Error("HTTP error! status: ".concat(e.status))}return await e.json()}catch(e){throw console.error("Fetch error:",e),e}},Q={DECODE:{name:"Decode",description:"Decode item descriptions into NDIS service codes",url:"/api/decode"},POLICY_SERVICES:{name:"Policy & Services Guidance",description:"Get NDIS policy help and service recommendations",url:"/api/policy-guidance"},NDIS_UPDATES:{name:"NDIS Updates",description:"Get the latest updates and news about NDIS",url:"/api/ndis-updates"},PLAN_BUDGET:{name:"Budget Planning Assistant",description:"Plan and allocate your NDIS funding across support categories",url:"/api/plan-budget"}};var ee=a(7689),et=a(2489),ea=a(265),er=a(4438);function es(e){let{borderWidth:t=1,duration:a=14,shineColor:s="#000000",className:l,style:n,...i}=e;return(0,r.jsx)("div",{style:{"--border-width":"".concat(t,"px"),"--duration":"".concat(a,"s"),backgroundImage:"radial-gradient(transparent,transparent, ".concat(Array.isArray(s)?s.join(","):s,",transparent,transparent)"),backgroundSize:"300% 300%",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",padding:"var(--border-width)",...n},className:o("pointer-events-none absolute inset-0 size-full rounded-[inherit] will-change-[background-position] motion-safe:animate-shine",l),...i})}var el=a(236),en=a(3260),ei=a(6882),ed=a(6134),eo=()=>e=>{(0,ei.Vn)(e,"text",(e,t,a)=>{let r;if(!a||!("children"in a)||"number"!=typeof t||!Array.isArray(a.children))return;if("link"===a.type)return ed.AM;let s=e.value,l=[],n=0,i=/\[(\d+)\]/g;for(;null!==(r=i.exec(s));){let e=r[1],t=r[0],a=r.index;a>n&&l.push({type:"text",value:s.slice(n,a)}),l.push({type:"link",url:"#ref-".concat(e),children:[{type:"text",value:t}]}),n=i.lastIndex}if(0!==l.length)return n<s.length&&l.push({type:"text",value:s.slice(n)}),a.children.splice(t,1,...l),t+l.length})};let ec=e=>{let t=e.split("\n"),a=t[0].replace("Item Code: ",""),r=t[1].replace("Description: ",""),s=t[2].replace("Price Cap: ",""),l=t[3].replace("Rules: ",""),n={};return"Price not specified"!==s&&s.split(", ").forEach(e=>{let[t,a]=e.split(" for ");n[a]=t}),{code:a,description:r,prices:n,rules:l.split(", ")}},eu=e=>{let{results:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-700 mb-2",children:"NDIS Codes:"}),(null==t?void 0:t.codes)&&t.codes.length>0?(0,r.jsx)("ul",{className:"list-disc pl-5",children:t.codes.map((e,t)=>(0,r.jsx)("li",{className:"text-ndis-blue font-medium",children:e},t))}):(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No specific NDIS codes identified"})]}),(null==t?void 0:t.formatted_results)&&t.formatted_results.length>0&&(0,r.jsxs)("div",{className:"mb-4 space-y-4",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-700 mb-2",children:"Code Details:"}),t.formatted_results.map((e,t)=>{let a=ec(e);return(0,r.jsxs)("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"text-ndis-blue font-medium",children:a.code}),(0,r.jsx)("div",{className:"flex flex-wrap justify-end gap-1",children:a.rules.map((e,t)=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:e},t))})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-3",children:a.description}),Object.keys(a.prices).length>0?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-600",children:"Price Caps:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:Object.entries(a.prices).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"flex flex-col justify-between bg-gray-50 p-2 rounded text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:[t,":"]}),(0,r.jsx)("span",{className:"font-medium",children:a})]},t)})})]}):(0,r.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Price not specified"})]},t)})]}),(null==t?void 0:t.explanation)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-700 mb-2",children:"Explanation:"}),(0,r.jsx)("div",{className:"bg-gray-50 p-3 rounded text-gray-700",children:(0,r.jsx)(el.UG,{remarkPlugins:[en.Z],children:t.explanation})})]})]})},em=e=>{let{results:t}=e,a=e=>{let t;let a=/\[(\d+)\]/g,r=new Set;for(;null!==(t=a.exec(e));)r.add(t[1]);return Array.from(r).sort((e,t)=>parseInt(e)-parseInt(t))},s=new Set;a(t.updates_summary).forEach(e=>s.add(e)),(null==t?void 0:t.key_updates)&&t.key_updates.forEach(e=>{a(e.description).forEach(e=>s.add(e))});let l=Array.from(s).sort((e,t)=>parseInt(e)-parseInt(t));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 text-lg",children:"Latest NDIS Updates"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["Last updated: ",t.last_updated]})]}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm text-gray-700",children:(0,r.jsx)("div",{className:"prose prose-gray max-w-none",children:(0,r.jsx)(el.UG,{remarkPlugins:[en.Z,eo],components:{h2:e=>{let{children:t}=e;return(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mt-6 mb-3",children:t})},h3:e=>{let{children:t}=e;return(0,r.jsx)("h3",{className:"text-base font-medium text-gray-700 mt-4 mb-2",children:t})},p:e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"text-gray-600 mb-3 leading-relaxed",children:t})},strong:e=>{let{children:t}=e;return(0,r.jsx)("strong",{className:"font-semibold text-gray-800",children:t})},ul:e=>{let{children:t}=e;return(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1 mb-4 text-gray-600",children:t})},li:e=>{let{children:t}=e;return(0,r.jsx)("li",{className:"leading-relaxed",children:t})}},children:t.updates_summary})})})]}),(null==t?void 0:t.key_updates)&&t.key_updates.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-3",children:"Key Policy Updates"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:(0,r.jsx)("div",{className:"space-y-5",children:t.key_updates.map((e,t)=>(0,r.jsxs)("div",{className:"pb-5 border-b border-gray-200 last:border-0 last:pb-0",children:[(0,r.jsx)("h4",{className:"font-semibold text-ndis-blue text-base mb-2",children:e.title}),e.effective_date&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:[(0,r.jsx)("strong",{children:"Effective from:"})," ",e.effective_date]}),(0,r.jsx)("div",{className:"prose prose-gray max-w-none text-gray-700",children:(0,r.jsx)(el.UG,{remarkPlugins:[en.Z,eo],components:{p:e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"text-gray-600 mb-3 leading-relaxed",children:t})},strong:e=>{let{children:t}=e;return(0,r.jsx)("strong",{className:"font-semibold text-gray-800",children:t})},ul:e=>{let{children:t}=e;return(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1 mb-4 text-gray-600",children:t})},li:e=>{let{children:t}=e;return(0,r.jsx)("li",{className:"leading-relaxed",children:t})}},children:e.description})})]},e.title))})})]}),(null==t?void 0:t.sources)&&t.sources.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-3",children:"Sources"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:(0,r.jsx)("ul",{className:"list-disc pl-5 text-gray-600 space-y-1",children:t.sources.map((e,t)=>(0,r.jsx)("li",{className:"text-sm",children:e},t))})})]}),(0,r.jsx)("div",{className:"hidden",children:l.map(e=>(0,r.jsx)("span",{id:"ref-".concat(e)},e))})]})},ep=e=>{let{results:t}=e,a=(e=>{let t;let a=/\[(\d+)\]/g,r=new Set;for(;null!==(t=a.exec(e));)r.add(t[1]);return Array.from(r).sort((e,t)=>parseInt(e)-parseInt(t))})((null==t?void 0:t.guidance)||"");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"prose prose-gray max-w-none",children:(0,r.jsx)(el.UG,{remarkPlugins:[en.Z,eo],components:{h2:e=>{let{children:t}=e;return(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mt-6 mb-3",children:t})},h3:e=>{let{children:t}=e;return(0,r.jsx)("h3",{className:"text-base font-medium text-gray-700 mt-4 mb-2",children:t})},p:e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"text-gray-600 mb-3 leading-relaxed",children:t})},strong:e=>{let{children:t}=e;return(0,r.jsx)("strong",{className:"font-semibold text-gray-800",children:t})},ul:e=>{let{children:t}=e;return(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1 mb-4 text-gray-600",children:t})},li:e=>{let{children:t}=e;return(0,r.jsx)("li",{className:"leading-relaxed",children:t})}},children:null==t?void 0:t.guidance})})}),(null==t?void 0:t.related_codes)&&t.related_codes.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Related NDIS Codes"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.related_codes.map(e=>(0,r.jsx)("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium text-ndis-blue",children:e.code}),(0,r.jsx)("span",{className:"text-gray-600",children:"-"}),(0,r.jsx)("span",{className:"text-gray-700",children:e.name})]})},e.code))})]}),(null==t?void 0:t.citations)&&t.citations.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Sources"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:(0,r.jsx)("ul",{className:"list-disc space-y-2 pl-5",children:t.citations.map((e,t)=>(0,r.jsx)("li",{className:"text-sm text-gray-600",children:(0,r.jsx)(el.UG,{remarkPlugins:[en.Z],components:{p:e=>{let{children:t}=e;return(0,r.jsx)("span",{children:t})},a:e=>{let{children:t,href:a}=e;return(0,r.jsx)("a",{href:a,className:"text-ndis-blue hover:underline",target:"_blank",rel:"noopener noreferrer",children:t})}},children:e})},t))})})]}),(0,r.jsx)("div",{className:"hidden",children:a.map(e=>(0,r.jsx)("span",{id:"ref-".concat(e)},e))})]})},ef=e=>{var t;let{results:a}=e,s=(e=>{let t;let a=/\[(\d+)\]/g,r=new Set;for(;null!==(t=a.exec(e));)r.add(t[1]);return Array.from(r).sort((e,t)=>parseInt(e)-parseInt(t))})(a.allocation_summary||"");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-3",children:"Budget Allocation Plan"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm text-gray-700",children:(0,r.jsxs)("div",{className:"prose prose-gray max-w-none",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Total NDIS Plan Amount:"}),(0,r.jsxs)("span",{className:"text-lg font-semibold text-ndis-blue",children:["$",null===(t=a.plan_amount)||void 0===t?void 0:t.toLocaleString()]})]}),(0,r.jsx)(el.UG,{remarkPlugins:[en.Z,eo],components:{h2:e=>{let{children:t}=e;return(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mt-6 mb-3",children:t})},h3:e=>{let{children:t}=e;return(0,r.jsx)("h3",{className:"text-base font-medium text-gray-700 mt-4 mb-2",children:t})},p:e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"text-gray-600 mb-3 leading-relaxed",children:t})},strong:e=>{let{children:t}=e;return(0,r.jsx)("strong",{className:"font-semibold text-gray-800",children:t})},ul:e=>{let{children:t}=e;return(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1 mb-4 text-gray-600",children:t})},li:e=>{let{children:t}=e;return(0,r.jsx)("li",{className:"leading-relaxed",children:t})}},children:a.allocation_summary})]})})]}),Object.keys(a.recommended_codes||{}).length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-3",children:"Recommended NDIS Services"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:(0,r.jsx)("div",{className:"space-y-5",children:Object.entries(a.recommended_codes||{}).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"space-y-3 pb-4 border-b border-gray-200 last:border-0",children:[(0,r.jsx)("h4",{className:"font-medium text-ndis-blue",children:t}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:a.map(e=>(0,r.jsxs)("div",{className:"flex flex-col border rounded-lg p-3 bg-white shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-800",children:e.code}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.price})]}),(0,r.jsx)("span",{className:"text-sm text-gray-700 mt-1",children:e.name})]},e.code))})]},t)})})})]}),(0,r.jsx)("div",{className:"hidden",children:s.map(e=>(0,r.jsx)("span",{id:"ref-".concat(e)},e))})]})},ex=()=>(0,r.jsxs)("div",{className:"border shadow-md rounded-lg p-6",children:[(0,r.jsx)("div",{className:"h-7 w-48 bg-gray-200 rounded-md mb-6 animate-pulse"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"h-5 w-32 bg-gray-200 rounded-md mb-3 animate-pulse"}),(0,r.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"h-4 w-24 bg-gray-100 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-4 w-48 bg-gray-100 rounded animate-pulse"})]},e))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"h-5 w-40 bg-gray-200 rounded-md mb-3 animate-pulse"}),(0,r.jsx)("div",{className:"h-24 bg-gray-100 rounded-md animate-pulse"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"h-5 w-36 bg-gray-200 rounded-md mb-3 animate-pulse"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[1,2,3,4].map(e=>(0,r.jsx)("div",{className:"h-12 border rounded-md bg-gray-50 animate-pulse"},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"h-5 w-28 bg-gray-200 rounded-md mb-3 animate-pulse"}),(0,r.jsx)("div",{className:"space-y-1",children:[1,2].map(e=>(0,r.jsx)("div",{className:"h-4 w-full bg-gray-100 rounded animate-pulse"},e))})]})]}),eg=e=>{let{error:t}=e;return(0,r.jsx)("div",{className:"border border-red-200 shadow-sm rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"min-w-fit p-2 bg-red-100 rounded-full",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-5 h-5 text-red-600",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h3",{className:"font-medium text-red-900",children:"Error Processing Request"}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:t}),(0,r.jsx)("p",{className:"text-xs text-red-500",children:"Please try again or contact support if the issue persists."})]})]})})};var eh=e=>{let{endpoint:t,results:a,isLoading:s}=e;if(s)return(0,r.jsx)(ex,{});if(!a)return null;if(a.error)return(0,r.jsx)(eg,{error:a.error});let l=t===Q.NDIS_UPDATES.url?Q.NDIS_UPDATES.name:t===Q.POLICY_SERVICES.url?Q.POLICY_SERVICES.name:t===Q.DECODE.url?Q.DECODE.name:t===Q.PLAN_BUDGET.url?Q.PLAN_BUDGET.name:"NDIS";return(0,r.jsxs)("div",{className:"border shadow-md rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-ndis-dark mb-4",children:l}),t===Q.DECODE.url?(0,r.jsx)(eu,{results:a}):t===Q.POLICY_SERVICES.url?(0,r.jsx)(ep,{results:a}):t===Q.NDIS_UPDATES.url?(0,r.jsx)(em,{results:a}):t===Q.PLAN_BUDGET.url?(0,r.jsx)(ef,{results:a}):null]})},ev=a(6394);let eb=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ej=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ev.f,{ref:t,className:o(eb(),a),...s})});ej.displayName=ev.f.displayName;var ey=a(2292),eN=a(519);let ew=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ey.fC,{className:o("grid gap-2",a),...s,ref:t})});ew.displayName=ey.fC.displayName;let eS=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(ey.ck,{ref:t,className:o("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:(0,r.jsx)(ey.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(eN.Z,{className:"h-3.5 w-3.5 fill-primary"})})})});function eE(){let[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)([]),[n,i]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[m,p]=(0,s.useState)(Q.DECODE.url),[f,x]=(0,s.useState)(null),g=(0,s.useCallback)(e=>{t(e.target.value)},[]),h=(0,s.useCallback)(t=>{if("Enter"===t.key&&!t.shiftKey&&(t.preventDefault(),e.trim()&&!n&&!d)){let e=t.currentTarget.closest("form");e&&e.requestSubmit()}},[e,n,d]),v=(0,s.useCallback)(async(e,t)=>{let{onProgress:a,onSuccess:r,onError:s}=t;try{i(!0);let t=e.map(async e=>{try{let t=0;for(let r=0;r<10;r++){await new Promise(e=>setTimeout(e,200*Math.random()+100));let r=++t/10*100;a(e,r)}await new Promise(e=>setTimeout(e,500)),r(e)}catch(t){s(e,t instanceof Error?t:Error("Upload failed"))}finally{i(!1)}});await Promise.all(t)}catch(e){console.error("Unexpected error during upload:",e)}},[]),b=(0,s.useCallback)((e,t)=>{(0,er.Am)(t,{description:'"'.concat(e.name.length>20?"".concat(e.name.slice(0,20),"..."):e.name,'" has been rejected')})},[]),j=async a=>{try{if(a.preventDefault(),d||!e.trim())return;if(c(!0),"/api/plan-budget"===m){let a=e.match(/\$(\d[\d,]*\.?\d*\s*k?)|\b(\d[\d,]*\.?\d*\s*k?)\s*dollars\b|(\d[\d,]*\.?\d*\s*k?)\b/i),r=0;if(a){let e=a[0].replace(/[\$,\s]/g,"");e.toLowerCase().endsWith("k")&&(e=e.toLowerCase().replace("k","")+"000"),r=parseFloat(e)}if(!r||r<=0){x({error:"Invalid plan amount",message:'Please include a valid NDIS plan amount in your query, for example: "Help me allocate my $50,000 NDIS plan"',status:"error"}),c(!1);return}try{let a=await X(m,JSON.stringify({plan_amount:r,needs_description:e,existing_supports:[],priorities:[]}),void 0);console.log(a),x(a),t(""),l([])}catch(e){console.error("Error fetching from budget endpoint:",e),x({error:"Request failed",message:"There was an error processing your request. Please try again.",status:"error"})}}else try{let a=await X(m,JSON.stringify({query:e}),void 0);console.log(a),x(a),t(""),l([])}catch(e){console.error("Error fetching from endpoint:",e),x({error:"Request failed",message:"There was an error processing your request. Please try again.",status:"error"})}c(!1)}catch(e){console.error("Form submission error:",e),c(!1),x({error:"Submission error",message:"There was an error submitting your request. Please try again.",status:"error"})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ew,{defaultValue:m,className:"sm:grid-cols-2",onValueChange:e=>{x(""),p(e)},children:Object.entries(Q).map((e,t)=>{let[a,{name:s,description:l,url:n}]=e;return(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-4 border rounded col-span-1",children:[(0,r.jsx)(eS,{value:n,id:"api-".concat(n)}),(0,r.jsxs)(ej,{htmlFor:"api-".concat(n),className:"font-bold",children:[s," ",(0,r.jsx)("p",{className:"text-slate-600 font-normal mt-1 opacity-75",children:l})]})]},t)})}),(0,r.jsxs)(L,{value:a,onValueChange:l,onUpload:v,onFileReject:b,maxFiles:10,maxSize:5242880,className:"relative w-full",multiple:!0,disabled:n,children:[(0,r.jsx)(V,{tabIndex:-1,onClick:e=>e.preventDefault(),className:"absolute inset-0 z-0 flex w-full items-center justify-center rounded-none border-none bg-background/50 p-0 opacity-0 backdrop-blur transition-opacity duration-200 ease-out data-[dragging]:z-10 data-[dragging]:opacity-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1 text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center rounded-full border p-2.5",children:(0,r.jsx)(ee.Z,{className:"size-6 text-muted-foreground"})}),(0,r.jsx)("p",{className:"font-medium text-sm",children:"Drag & drop files here"}),(0,r.jsx)("p",{className:"text-muted-foreground text-xs",children:"Upload max 5 files each up to 5MB"})]})}),(0,r.jsxs)("form",{onSubmit:j,className:o("relative flex w-full flex-col gap-2.5 rounded-md px-3 py-2 outline-none focus-within:ring-1 focus-within:ring-ring/50 border",n||d?"border-transparent focus-within:ring-ring/10":"border-input"),children:[n||d?(0,r.jsx)(es,{shineColor:["#A07CFE","#FE8FB5","#FFBE7B"]}):null,(0,r.jsx)(M,{orientation:"horizontal",className:"overflow-x-auto px-0 py-1",children:a.map((e,t)=>(0,r.jsxs)(Z,{value:e,className:"max-w-52 p-1.5",children:[(0,r.jsx)(W,{className:"size-8 [&>svg]:size-5",children:(0,r.jsx)(K,{variant:"fill"})}),(0,r.jsx)(q,{size:"sm"}),(0,r.jsx)($,{asChild:!0,children:(0,r.jsx)(u,{variant:"secondary",size:"icon",className:"-top-1 -right-1 absolute size-4 shrink-0 cursor-pointer rounded-full",children:(0,r.jsx)(et.Z,{className:"size-2.5"})})})]},t))}),(0,r.jsx)(H,{value:e,onChange:g,onKeyDown:h,placeholder:"Ask anything NDIS related ...",className:"w-full resize-none border-0 rounded-none bg-transparent p-0 shadow-none focus-visible:ring-0 dark:bg-transparent",disabled:n}),(0,r.jsx)("div",{className:"absolute right-[8px] bottom-[7px] flex items-center gap-1.5",children:(0,r.jsxs)(u,{type:"submit",size:"icon",className:"size-7 rounded-sm",disabled:!e.trim()||n||d,children:[(0,r.jsx)(ea.Z,{className:"size-3.5"}),(0,r.jsx)("span",{className:"sr-only",children:"Send message"})]})})]})]}),(0,r.jsx)(eh,{isLoading:d,endpoint:m,results:f})]})}eS.displayName=ey.ck.displayName},2664:function(e,t,a){"use strict";a.d(t,{AuroraText:function(){return s}});var r=a(7437);let s=(0,a(2265).memo)(e=>{let{children:t,className:a="",colors:s=["#FF0080","#7928CA","#0070F3","#38bdf8"],speed:l=1}=e,n={backgroundImage:"linear-gradient(135deg, ".concat(s.join(", "),", ").concat(s[0],")"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animationDuration:"".concat(10/l,"s")};return(0,r.jsxs)("span",{className:"relative inline-block ".concat(a),children:[(0,r.jsx)("span",{className:"sr-only",children:t}),(0,r.jsx)("span",{className:"relative animate-aurora bg-[length:200%_auto] bg-clip-text text-transparent",style:n,"aria-hidden":"true",children:t})]})});s.displayName="AuroraText"}},function(e){e.O(0,[950,971,117,744],function(){return e(e.s=8925)}),_N_E=e.O()}]);